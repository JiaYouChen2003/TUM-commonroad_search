

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; commonroad_search 2019a documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="commonroad_search API" href="../api/index.html" />
    <link rel="prev" title="commonroad_search Documentation" href="../commonroad_search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../commonroad_search.html" class="icon icon-home"> commonroad_search
          

          
            
            <img src="../_static/commonroad_white150.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2019a
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hint">Hint</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setup-of-the-conda-environment">Setup of the conda environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-install">How to install</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id1">1. CommonRoad_io</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">2. CommonRoad_Collision_Checker</a></li>
<li class="toctree-l2"><a class="reference internal" href="#boundary">3. Boundary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-use">How to use</a></li>
<li class="toctree-l2"><a class="reference internal" href="#implement-your-own-search-algorithm">Implement your own search algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trouble-shooting">Trouble Shooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">commonroad_search API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/index.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api/MotionPlanner.html">Module Motion Planner</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/MotionPlanner.html#motion-planner">Motion Planner</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/MotionPlanner.html#priority-queue">Priority Queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/MotionPlanner.html#other-functions">Other Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/MotionAutomata.html">Module Motion Automata</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/MotionAutomata.html#module-Automata.MotionAutomata">Motion Automata</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/MotionPrimitiveParser.html">Module Motion Primitive Parser</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/MotionPrimitiveParser.html#module-Automata.MotionPrimitiveParser">Motion Primitive Parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/MotionPrimitiveParser.html#other-functions">Other Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/States.html">Module States</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/States.html#module-Automata.States">Start State</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/States.html#final-state">Final State</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/TrajectoryParser.html">Module Trajectory Parser</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/TrajectoryParser.html#module-Automata.TrajectoryParser">Trajectory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/TrajectoryParser.html#trajectory-set">Trajectory Set</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api/TrajectoryParser.html#trajectory-parser">Trajectory Parser</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api/MotionPrimitive.html">Module Motion Primitive</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../api/MotionPrimitive.html#module-Automata.MotionPrimitive">Motion Primitive</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../commonroad_search.html">commonroad_search</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../commonroad_search.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/install/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<span id="install-index"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>This part gives the instructions on how to install the commonroad_search tool. The software is written in Python 3.7 and tested on Linux and macOS. The commonroad_search release 2019a is compatible with commonroad framework of release 2019. The usage of the <a class="reference external" href="http://www.anaconda.com/download/#download">Anaconda</a> Python distribution is recommended.</p>
<div class="section" id="hint">
<h2>Hint<a class="headerlink" href="#hint" title="Permalink to this headline">¶</a></h2>
<p>During the using of commonroad_search, if there is any function or class that you can not find an explaination in this documentation, you may need to check the documentation of <a class="reference external" href="https://commonroad-io.readthedocs.io/en/latest/">Commonroad-io</a>, <a class="reference external" href="https://commonroad.in.tum.de/static/docs/collision-checker/index.html">Commonroad-collision-checker</a> or Boundary, as this software is developed based on them.</p>
</div>
<div class="section" id="setup-of-the-conda-environment">
<h2>Setup of the conda environment<a class="headerlink" href="#setup-of-the-conda-environment" title="Permalink to this headline">¶</a></h2>
<p>We recommand to use Anaconda to manage your environment so that even if you mess up something, you can always restart safely.
(<a class="reference external" href="https://conda.io/docs/user-guide/tasks/manage-environments.html">https://conda.io/docs/user-guide/tasks/manage-environments.html</a>)</p>
<p>To create a new environment:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda create -n commonroad-py37 python=3.7</span>
</pre></div>
</div>
<p>Always activate your environment before you do anything related:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">source activate commonroad-py37</span>
</pre></div>
</div>
<p>Make your Jupyter Notebook aware of this new environment:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda install ipykernel</span>
<span class="go">conda install ipython-autotime</span>
<span class="go">conda install ipywidgets</span>
<span class="go">conda install sphinx</span>
<span class="go">python -m ipykernel install --user --name commonroad-py37 --display-name &quot;Python (commonroad-py37)&quot;</span>
</pre></div>
</div>
<p>If you need superuser rights for the last step try:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo /&lt;root path to&gt;/anaconda3/envs/commonroad-py37/bin/python -m ipykernel install --user --name commonroad-py37 --display-name &quot;Python (commonroad-py37)&quot;</span>
</pre></div>
</div>
<p>Later in the Jupyter Notebook, you should select this kernel so that everything runs in this particular environment.</p>
</div>
<div class="section" id="how-to-install">
<h2>How to install<a class="headerlink" href="#how-to-install" title="Permalink to this headline">¶</a></h2>
<p>This software has three main dependencies to install.</p>
</div>
<div class="section" id="id1">
<h2>1. CommonRoad_io<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Go to folder commonRoad_root/tools/commonroad_io/Python and install the commonroad environment:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda install networkx</span>
<span class="go">python setup.py install</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h2>2. CommonRoad_Collision_Checker<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Go to folder commonRoad_root/tools/commonroad-collision-checker/ and follow the Readme.</p>
</div>
<div class="section" id="boundary">
<h2>3. Boundary<a class="headerlink" href="#boundary" title="Permalink to this headline">¶</a></h2>
<p>Go to folder commonRoad_root/tools/ and follow the Readme file. Alternatively, you can also use the second method suggested in the trouble shooting.</p>
</div>
<div class="section" id="how-to-use">
<h2>How to use<a class="headerlink" href="#how-to-use" title="Permalink to this headline">¶</a></h2>
<p>Go to motionAutomata/notebooks and start Jupyter:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">jupyter</span> <span class="n">notebook</span>
</pre></div>
</div>
<p>If you are using Anaconda environments like we suggested, remember to switch to the kernel of the Jupyter Notebook: click kernel -&gt; change kernel -&gt; Python(commonroad-py37).</p>
<p>In case that the jupyter widget is not working (section: Visualize planned trajectory):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">jupyter</span> <span class="n">nbextension</span> <span class="n">install</span> <span class="o">--</span><span class="n">py</span> <span class="n">widgetsnbextension</span> <span class="o">--</span><span class="n">user</span>
<span class="n">jupyter</span> <span class="n">nbextension</span> <span class="n">enable</span> <span class="n">widgetsnbextension</span> <span class="o">--</span><span class="n">user</span> <span class="o">--</span><span class="n">py</span>
</pre></div>
</div>
</div>
<div class="section" id="implement-your-own-search-algorithm">
<h2>Implement your own search algorithm<a class="headerlink" href="#implement-your-own-search-algorithm" title="Permalink to this headline">¶</a></h2>
<p>Go to motionAutomata/Automata and open MotionPlanner.py. Insert the search algorithm of your choice in the function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">search_alg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">startSuccessor</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">MotionPrimitive</span><span class="p">],</span> <span class="n">maxTreeDepth</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">status</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span>
</pre></div>
</div>
<p>And you can define your own cost function in the function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calc_heuristic_cost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">State</span><span class="p">],</span> <span class="n">curPos</span><span class="p">:</span> <span class="n">State</span><span class="p">):</span>
</pre></div>
</div>
<p>There are already 2 search algorithms (A star and Greedy-best-first search) implemented as examples for you. Please check the first cell of the notebook (primitive_planner/motionAutomata/notebooks/demo.ipynb) to see how to use them.</p>
</div>
<div class="section" id="trouble-shooting">
<h2>Trouble Shooting<a class="headerlink" href="#trouble-shooting" title="Permalink to this headline">¶</a></h2>
<p>Here are several suggestions for possible problems in the installation process.</p>
<ol class="arabic simple">
<li></li>
</ol>
<p>If you get errors when executing “python setup.py install”, try the following equivalent command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo /&lt;root path to&gt;/anaconda3/envs/commonroad-py37/bin/python setup.py install</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li></li>
</ol>
<p>If there are errors related to not finding the boundary library (e.g. can not find module construction) when using the jupyter notebook, try to manually move all the contents of boundary folder (not simply copy the whole folder but to copy all files directly under this folder) into /path/to/your/anaconda/envs/lib/python3.7/site-packages.</p>
<p>The path typically looks like this: /home/USER-NAME/anaconda3/envs/commonroad-py37/lib/python3.7/site-packages</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../api/index.html" class="btn btn-neutral float-right" title="commonroad_search API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../commonroad_search.html" class="btn btn-neutral float-left" title="commonroad_search Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Sebastian Kaster, Andong Tan

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>